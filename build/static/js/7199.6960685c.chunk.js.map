{"version":3,"file":"static/js/7199.6960685c.chunk.js","mappings":"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","sources":["pages/HouseholdsRegisterPage.tsx","components/tables/editableTable/EditableTable.tsx","components/common/inputs/SearchInput/SearchInput.styles.ts"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { EditableTable } from '@app/components/tables/editableTable/EditableTable';\nimport { Skeleton, Tag, Typography } from 'antd';\nimport axios from 'axios';\n\ninterface User {\n  id: string;\n  first_name: string;\n  last_name: string;\n  avatar: string;\n  location: string;\n}\n\nconst HouseholdsRegisterPage: React.FC = () => {\n  const [user, setUser] = useState<User | null>(null);\n  const [loadingUserData, setLoadingUserData] = useState(true);\n  const [loadingTable, setLoadingTable] = useState(true);\n\n  useEffect(() => {\n    const fetchUserData = async () => {\n      try {\n        setLoadingUserData(true);\n\n        // Fetch user data from the API\n        const response = await axios.get(`${process.env.REACT_APP_BASE_URL}/users/me`, {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem('access_token')}`,\n          },\n        });\n\n        setUser(response.data.data);\n      } catch (error) {\n        console.error('Error fetching user data:', error);\n      } finally {\n        setLoadingUserData(false);\n        setLoadingTable(false);\n      }\n    };\n\n    fetchUserData();\n  }, []);\n\n  const content = (\n    <>\n      <Typography.Title level={4}>\n        {loadingUserData ? <Skeleton.Input active size=\"small\" /> : `${user?.location}`} District Households Register\n      </Typography.Title>\n      <Tag color=\"volcano\">Note: Only active caregivers are shown.</Tag>\n      <br />\n      <br />\n    </>\n  );\n\n  return (\n    <>\n      {content}\n      {loadingTable ? <Skeleton active paragraph={{ rows: 2 }} /> : <EditableTable />}\n    </>\n  );\n};\n\nexport default HouseholdsRegisterPage;\n","import React, { useState, useEffect, useRef } from 'react';\nimport { BaseTable } from '@app/components/common/BaseTable/BaseTable';\nimport { BaseButton } from '@app/components/common/BaseButton/BaseButton';\nimport { useTranslation } from 'react-i18next';\nimport { BaseSpace } from '@app/components/common/BaseSpace/BaseSpace';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport { Input, InputRef, Button, Tooltip, Space, Row, Col, Select, Tag } from 'antd';\nimport { SearchOutlined } from '@ant-design/icons';\nimport Highlighter from 'react-highlight-words';\nimport styled from 'styled-components';\nimport { FilterDropdownProps } from 'antd/es/table/interface';\nimport { BasicTableRow, Pagination } from 'api/table.api';\nimport * as S from '@app/components/common/inputs/SearchInput/SearchInput.styles';\nimport { Parser } from 'json2csv';\n\ninterface Household {\n  household_id: string;\n  caregiver_name: string;\n  homeaddress: string;\n  facility: string;\n  province: string;\n  district: string;\n  ward: string;\n  caseworker_name: string;\n  [key: string]: string | undefined;\n}\n\nconst initialPagination: Pagination = {\n  current: 1,\n  pageSize: 100,\n};\n\nconst initialSubPopulationFilters = {\n  calhiv: 'all',\n  hei: 'all',\n  cwlhiv: 'all',\n  agyw: 'all',\n  csv: 'all',\n  cfsw: 'all',\n  abym: 'all',\n};\n\nconst ExportWrapper = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  margin-bottom: 16px;\n`;\n\nconst subPopulationFilterLabels = {\n  calhiv: 'CALHIV',\n  hei: 'HEI',\n  cwlhiv: 'CWLHIV',\n  agyw: 'AGYW',\n  csv: 'C/SV',\n  cfsw: 'CFSW',\n  abym: 'ABYM',\n};\n\nexport const EditableTable: React.FC = () => {\n  const [households, setHouseholds] = useState<Household[]>([]);\n  const [filteredHouseholds, setFilteredHouseholds] = useState<Household[]>([]);\n  const [tableData, setTableData] = useState<{ data: BasicTableRow[]; pagination: Pagination; loading: boolean }>({\n    data: [],\n    pagination: initialPagination,\n    loading: false,\n  });\n  const { t } = useTranslation();\n  const [searchQuery, setSearchQuery] = useState<string>('');\n  const [user, setUser] = useState<unknown | null>(null); // Refined to unknown\n  const navigate = useNavigate();\n  const searchInput = useRef<InputRef>(null);\n  const [searchText, setSearchText] = useState<string>('');\n  const [searchedColumn, setSearchedColumn] = useState<string>('');\n  const [subPopulationFilters, setSubPopulationFilters] = useState(initialSubPopulationFilters);\n  const [columnFilters, setColumnFilters] = useState<Record<string, string>>({});\n\n  useEffect(() => {\n    const fetchUserData = async () => {\n      try {\n        const response = await axios.get(`${process.env.REACT_APP_BASE_URL}/users/me`, {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem('access_token')}`,\n          },\n        });\n        setUser(response.data.data as Record<string, unknown>);\n      } catch (error) {\n        console.error('Error fetching user data:', error);\n      }\n    };\n    fetchUserData();\n  }, []);\n\n  useEffect(() => {\n    const fetchHouseholds = async () => {\n      if (!user) return;\n      try {\n        setTableData((prev) => ({ ...prev, loading: true }));\n        const response = await axios.get(\n          `https://ecapplus.server.dqa.bluecodeltd.com/household/all-households/${\n            (user as Record<string, unknown>)?.location\n          }`,\n        );\n        setHouseholds(response.data.data);\n      } catch (error) {\n        console.error('Error fetching households data:', error);\n      } finally {\n        setTableData((prev) => ({ ...prev, loading: false }));\n      }\n    };\n\n    fetchHouseholds();\n  }, [user]);\n\n  const clearAllFiltersAndSearch = () => {\n    setSearchText('');\n    setSearchQuery('');\n    setSearchedColumn('');\n    setSubPopulationFilters(initialSubPopulationFilters);\n  };\n\n  const exportToCSV = () => {\n    try {\n      const parser = new Parser();\n      const csvData = parser.parse(filteredHouseholds);\n      const blob = new Blob([csvData], { type: 'text/csv;charset=utf-8;' });\n      const link = document.createElement('a');\n      link.href = URL.createObjectURL(blob);\n      link.download = 'households_data.csv';\n      link.click();\n    } catch (error) {\n      console.error('Error exporting data:', error);\n    }\n  };\n\n  // const handleSubPopFilterChange = (filterType: string, value: string) => {\n  //   setFilters(prevFilters => {\n  //     return prevFilters.map(filter => {\n  //       if (filter.key === filterType) {\n  //         return { ...filter, value: value };\n  //       }\n  //       return filter;\n  //     });\n  //   });\n  // };\n\n  const handleSearch = (selectedKeys: string[], confirm: () => void, dataIndex: string) => {\n    confirm();\n    setSearchText(selectedKeys[0]);\n    setSearchedColumn(dataIndex);\n  };\n\n  const handleReset = (clearFilters: () => void) => {\n    clearFilters();\n    setSearchText('');\n  };\n  const handleTableChange = (pagination: Pagination) => {\n    setTableData((prev) => ({ ...prev, pagination }));\n  };\n\n  const handleSubPopulationFilterChange = (filterName: keyof typeof subPopulationFilters, value: string) => {\n    setSubPopulationFilters((prevFilters) => ({\n      ...prevFilters,\n      [filterName]: value,\n    }));\n  };\n\n  // Updated filtering logic to handle both global search and column-specific search\n  useEffect(() => {\n    const applyFilters = () => {\n      return households.filter((household) => {\n        // Global search\n        const matchesGlobalSearch = searchQuery\n          ? Object.values(household).some(\n              (value) => value && value.toString().toLowerCase().includes(searchQuery.toLowerCase()),\n            )\n          : true;\n\n        // Column-specific search\n        // const matchesColumnSearch = searchText\n        //   ? searchedColumn\n        //     ? household[searchedColumn]?.toString().toLowerCase().includes(searchText.toLowerCase())\n        //     : true\n        //   : true;\n\n        // Sub-population filters\n        const matchesSubPopulationFilters = Object.entries(subPopulationFilters).every(([key, value]) => {\n          if (value === 'all') return true;\n          const vcaValue = household[key];\n          return value === 'yes' ? vcaValue === '1' || vcaValue === 'true' : vcaValue === '0' || vcaValue === 'false';\n        });\n\n        return matchesGlobalSearch && matchesSubPopulationFilters; // && matchesColumnSearch;\n      });\n    };\n\n    const filtered = applyFilters();\n    setFilteredHouseholds(filtered);\n  }, [searchQuery, searchText, searchedColumn, households, subPopulationFilters]);\n\n  // Map filtered households to table data\n  useEffect(() => {\n    const mappedData: BasicTableRow[] = filteredHouseholds.map((household, index) => ({\n      key: index,\n      name: household.caregiver_name,\n      age: 0, // Add a default age value or replace with actual data if available\n      address: `\n        Address: ${household.homeaddress || 'Not Applicable'}\n        Facility: ${household.facility || 'Not Applicable'}\n        Province: ${household.province || 'Not Applicable'}\n        District: ${household.district || 'Not Applicable'}\n        Ward: ${household.ward || 'Not Applicable'}\n      `,\n      household_id: household.household_id,\n      caseworker_name: household.caseworker_name,\n    }));\n\n    setTableData({ data: mappedData, pagination: initialPagination, loading: false });\n  }, [filteredHouseholds, searchText]);\n\n  const getColumnSearchProps = (dataIndex: string) => ({\n    filterDropdown: ({ setSelectedKeys, selectedKeys, confirm, clearFilters, close }: FilterDropdownProps) => (\n      <div style={{ padding: 8 }}>\n        <Input\n          ref={searchInput}\n          placeholder={`Search ${dataIndex}`}\n          value={selectedKeys[0] as string | number | undefined}\n          onChange={(e) => setSelectedKeys(e.target.value ? [e.target.value] : [])}\n          onPressEnter={() => {\n            handleSearch(selectedKeys as string[], confirm, dataIndex);\n            // Update columnFilters state when a filter is applied\n            setColumnFilters((prevFilters) => ({\n              ...prevFilters,\n              [dataIndex]: (selectedKeys[0] as string) || '',\n            }));\n          }}\n          style={{ marginBottom: 8, display: 'block' }}\n        />\n        <Space>\n          <Button\n            type=\"primary\"\n            onClick={() => {\n              handleSearch(selectedKeys as string[], confirm, dataIndex);\n              // Update columnFilters state when a filter is applied\n              setColumnFilters((prevFilters) => ({\n                ...prevFilters,\n                [dataIndex]: (selectedKeys[0] as string) || '',\n              }));\n            }}\n            icon={<SearchOutlined />}\n            size=\"small\"\n            style={{ width: 95 }}\n          >\n            Search\n          </Button>\n          <Button\n            type=\"primary\"\n            size=\"small\"\n            onClick={() => {\n              if (clearFilters) {\n                handleReset(clearFilters); // Clear the column-specific filter\n                setSearchText(''); // Clear the search text\n                setSearchedColumn(''); // Clear the searched column\n                // Remove the column filter from columnFilters state\n                setColumnFilters((prevFilters) => {\n                  const newFilters = { ...prevFilters };\n                  delete newFilters[dataIndex];\n                  return newFilters;\n                });\n                confirm({ closeDropdown: false }); // Keep the dropdown open\n              }\n            }}\n            style={{ width: 130 }}\n          >\n            Reset column\n          </Button>\n          <Button type=\"link\" size=\"small\" onClick={close}>\n            X\n          </Button>\n        </Space>\n      </div>\n    ),\n    filterIcon: (filtered: boolean) => <SearchOutlined style={{ color: filtered ? '#1890ff' : undefined }} />,\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    onFilter: (value: any, record: Household) => {\n      const fieldValue = dataIndex in record ? record[dataIndex as keyof Household] : '';\n      if (fieldValue !== null) {\n        return fieldValue ? String(fieldValue).toLowerCase().includes(String(value).toLowerCase()) : false;\n      }\n      return false;\n    },\n    render: (text: string | number | boolean | null | undefined, record: Household) => {\n      const searchTextForColumn = columnFilters[dataIndex] || '';\n\n      if (dataIndex === 'address') {\n        // Split the address into its components\n        const addressFields = [\n          `Address: ${record.homeaddress}`,\n          `Facility: ${record.facility}`,\n          `Province: ${record.province}`,\n          `District: ${record.district}`,\n          `Ward: ${record.ward}`,\n        ];\n\n        return (\n          <div>\n            {addressFields.map((field, index) => (\n              <div key={index}>\n                {searchTextForColumn ? (\n                  <Highlighter\n                    highlightStyle={{ backgroundColor: '#FFC069', padding: 0 }}\n                    searchWords={[searchTextForColumn]}\n                    autoEscape\n                    textToHighlight={field}\n                  />\n                ) : (\n                  field\n                )}\n              </div>\n            ))}\n          </div>\n        );\n      }\n\n      // Highlight search text for other columns\n      return searchTextForColumn ? (\n        <Highlighter\n          highlightStyle={{ backgroundColor: '#ffc069', padding: 0 }}\n          searchWords={[searchTextForColumn]}\n          autoEscape\n          textToHighlight={text ? text.toString() : ''}\n        />\n      ) : (\n        text\n      );\n    },\n  });\n\n  const columns = [\n    {\n      title: t('Household ID'),\n      dataIndex: 'household_id',\n      width: '15%',\n      ...getColumnSearchProps('household_id'),\n    },\n    {\n      title: t('Caregiver Name'),\n      dataIndex: 'name',\n      width: '15%',\n      ...getColumnSearchProps('name'),\n    },\n    {\n      title: t('Household Details'),\n      dataIndex: 'address',\n      width: '30%',\n      ...getColumnSearchProps('address'),\n      render: (text: string) => <div style={{ whiteSpace: 'pre-line' }}> {text} </div>,\n    },\n    {\n      title: t('Case Worker'),\n      dataIndex: 'caseworker_name',\n      width: '15%',\n      ...getColumnSearchProps('caseworker_name'),\n    },\n    {\n      title: t('Applied Filters & Search'),\n      dataIndex: 'appliedFilters',\n      width: '20%',\n      render: () => {\n        // Get applied sub-population filters\n        const appliedFilters = Object.entries(subPopulationFilters)\n          .filter(([, value]) => value !== 'all') // Only show filters that are applied\n          .map(([key]) => subPopulationFilterLabels[key as keyof typeof subPopulationFilterLabels]); // Get labels for applied filters\n        // Collect column-specific filters\n        const appliedColumnFilters = Object.entries(columnFilters)\n          .filter(([, value]) => value !== '')\n          .map(([key, value]) => {\n            if (key === 'address') {\n              // Format Household Details filters based on the specific field being searched\n              return `${value}`;\n            } else {\n              // Format other columns as \"Search Text\"\n              return `${value}`;\n            }\n          });\n\n        // Combine all applied filters into a single array\n        const allAppliedFilters = [...appliedFilters, ...appliedColumnFilters];\n\n        // Render the applied filters as tags\n        return (\n          <div style={{ display: 'flex', flexWrap: 'wrap', gap: '4px' }}>\n            {allAppliedFilters.map((filter, index) => (\n              <Tag key={index} color=\"cyan\">\n                {filter}\n              </Tag>\n            ))}\n          </div>\n        );\n      },\n    },\n    {\n      title: t('Actions'),\n      width: '10%',\n      render: (_: unknown, record: BasicTableRow) => (\n        <BaseSpace>\n          <BaseButton type=\"primary\" onClick={() => handleView(record.household_id as string)}>\n            {t('View')}\n          </BaseButton>\n        </BaseSpace>\n      ),\n    },\n  ];\n\n  const handleView = (household_id: string) => {\n    const selectedHousehold = households.find((household) => household.household_id === household_id);\n    navigate(`/profile/household-profile/${encodeURIComponent(household_id)}`, {\n      state: { household: selectedHousehold },\n    });\n  };\n\n  return (\n    <div>\n      <Row justify=\"space-between\" align=\"middle\" style={{ marginBottom: '16px' }}>\n        <Col>\n          <Tooltip title={t('You can search by Household ID, Caregiver Name, Caseworker Name, and other fields.')}>\n            <S.SearchInput\n              placeholder={t('Global Search')}\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              style={{ marginRight: '16px' }}\n            />\n          </Tooltip>\n        </Col>\n        <Col span={24}>\n          <h5 style={{ fontSize: '20px', margin: '16px 16px 8px 0' }}> {t('Filter by Sub Population')} </h5>\n          <Row align=\"middle\" style={{ display: 'flex', justifyContent: 'flex-start', flexWrap: 'wrap' }}>\n            {Object.entries(subPopulationFilterLabels).map(([key, label]) => (\n              <div\n                key={key}\n                style={{\n                  marginRight: '16px',\n                  marginBottom: '1px',\n                  display: 'flex',\n                  flexDirection: 'column',\n                  alignItems: 'flex-start',\n                }}\n              >\n                <span style={{ fontSize: '12px' }}> {label} </span>\n                <Select\n                  style={{ width: '100px' }}\n                  value={subPopulationFilters[key as keyof typeof subPopulationFilters]}\n                  onChange={(newValue) =>\n                    handleSubPopulationFilterChange(key as keyof typeof subPopulationFilters, newValue)\n                  }\n                >\n                  <Select.Option value=\"all\"> {t('All')} </Select.Option>\n                  <Select.Option value=\"yes\"> {t('Yes')} </Select.Option>\n                  <Select.Option value=\"no\"> {t('No')} </Select.Option>\n                </Select>\n              </div>\n            ))}\n            {/*\n            <div style={{ display: 'flex', gap: '16px', flexWrap: 'wrap', alignItems: 'flex-start' }}>\n              <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'flex-start' }}>\n                <span style={{ fontSize: '12px', paddingBottom: \"0px\", textAlign: \"center\" }}>\n                  {t('Filter by Graduation')} < Tag color=\"cyan\" > New </Tag>\n                </span>\n\n                < span >\n                  <Select\n                    style={{ width: 300, marginLeft: 1 }}\n                    value={\n                      Array.isArray(filters) && filters.find((filter) => filter.key === 'de_registration_reason')?.value || undefined\n                    }\n                    onChange={(value) => handleSubPopFilterChange('de_registration_reason', value)}\n                    placeholder=\"Select Option\"\n                    dropdownRender={(menu) => (\n                      <div style={{ fontWeight: 'normal' }}>\n                        {menu}\n                      </div>\n                    )}\n                  >\n                    <Select.Option value=\"Graduated (Household has met the graduation benchmarks in ALL domains)\" >\n                      Met ALL graduation benchmarks\n                    </Select.Option>\n                    < Select.Option value=\"Exited without graduation\" >\n                      Exited without graduation\n                    </Select.Option>\n                    < Select.Option value=\"Transferred to other OVC program\" >\n                      Transferred to other OVC program\n                    </Select.Option>\n                    < Select.Option value=\"Lost to follow-up\" >\n                      Lost to follow - up\n                    </Select.Option>\n                    < Select.Option value=\"Passed on\" >\n                      Passed on\n                    </Select.Option>\n                    < Select.Option value=\"Aging without transition plan\" >\n                      Aging without transition plan\n                    </Select.Option>\n                    < Select.Option value=\"Moved (Relocated)\" >\n                      Moved(Relocated)\n                    </Select.Option>\n                    < Select.Option value=\"Other\" >\n                      Other\n                    </Select.Option>\n                  </Select>\n                </span>\n              </div>\n            </div> */}\n          </Row>\n        </Col>\n\n        <Col>\n          <ExportWrapper>\n            <Space style={{ marginTop: '20px' }}>\n              <Button type=\"primary\" onClick={clearAllFiltersAndSearch}>\n                {t('Clear Filters')}\n              </Button>\n              <Button type=\"primary\" onClick={exportToCSV}>\n                {t('Export to CSV')}\n              </Button>\n            </Space>\n          </ExportWrapper>\n        </Col>\n      </Row>\n      <BaseTable\n        columns={columns}\n        dataSource={tableData.data}\n        scroll={{ x: 1000 }}\n        pagination={tableData.pagination}\n        loading={tableData.loading}\n        style={{ overflowX: 'auto' }}\n        onChange={handleTableChange} // Add this line to handle table pagination\n      />\n    </div>\n  );\n};\n","import styled from 'styled-components';\nimport { BaseInput } from '../BaseInput/BaseInput';\nimport { SearchOutlined } from '@ant-design/icons';\nimport { BaseSpace } from '../../BaseSpace/BaseSpace';\n\nexport const Space = styled(BaseSpace)`\n  & > .ant-space-item:last-of-type {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n`;\n\nexport const SearchIcon = styled(SearchOutlined)`\n  font-size: 1.25rem;\n  color: #666;\n\n  @media only screen and (min-width: 768px) {\n    font-size: 1.5rem;\n  }\n`;\n\nexport const ClearButton = styled.button`\n  background: transparent;\n  border: none;\n  cursor: pointer;\n  color: #999;\n  font-size: 1rem;\n  margin-left: 0.5rem;\n  display: flex; /* Ensure it aligns properly with the input */\n  align-items: center;\n  height: 100%; /* Match the height of the input */\n  padding: 0; /* Remove extra padding */\n\n  &:hover {\n    color: #333;\n  }\n`;\n\nexport const SearchInput = styled(BaseInput.Search)`\n  border: 2px solid #c6d9eb;\n  border-radius: 1.5rem;\n  background: #ffffff;\n  padding: 0.5rem 1rem;\n  width: 100%; /* Default to 100% width for mobile devices */\n  max-width: 450px; /* Set a maximum width */\n  margin: 0 auto; /* Center horizontally */\n  box-shadow: none; /* Remove box shadow to avoid enlarging effect */\n  display: flex; /* Use flex to align items properly */\n\n  &:focus {\n    border-color: #a2b8d7;\n    outline: none;\n  }\n\n  .ant-input-prefix {\n    margin-right: 0.5rem;\n  }\n\n  .ant-input-group-addon {\n    display: none;\n  }\n\n  input {\n    height: auto;\n    padding: 0.5rem;\n    border: none;\n    outline: none;\n    background: transparent;\n    font-weight: bold;\n    font-size: 14px; /* Slightly increased font size for better readability */\n    color: #333;\n  }\n\n  .clear-button {\n    display: flex;\n    align-items: center;\n    margin-left: 0; /* Remove margin if not needed */\n  }\n\n  @media only screen and (min-width: 576px) {\n    width: 75%; /* Adjust width for small tablets */\n  }\n\n  @media only screen and (min-width: 768px) {\n    width: 50%; /* Adjust width for tablets */\n  }\n\n  @media only screen and (min-width: 992px) {\n    width: 450px; /* Use the fixed width for larger screens */\n  }\n`;\n"],"names":["HouseholdsRegisterPage","user","setUser","useState","loadingUserData","setLoadingUserData","loadingTable","setLoadingTable","useEffect","async","response","axios","concat","process","REACT_APP_BASE_URL","headers","Authorization","localStorage","getItem","data","error","console","fetchUserData","content","_jsxs","_Fragment","children","Typography","Title","level","_jsx","Skeleton","Input","active","size","location","Tag","color","paragraph","rows","EditableTable","initialPagination","current","pageSize","initialSubPopulationFilters","calhiv","hei","cwlhiv","agyw","csv","cfsw","abym","ExportWrapper","styled","div","_templateObject","_taggedTemplateLiteral","subPopulationFilterLabels","households","setHouseholds","filteredHouseholds","setFilteredHouseholds","tableData","setTableData","pagination","loading","t","useTranslation","searchQuery","setSearchQuery","navigate","useNavigate","searchInput","useRef","searchText","setSearchText","searchedColumn","setSearchedColumn","subPopulationFilters","setSubPopulationFilters","columnFilters","setColumnFilters","prev","_objectSpread","fetchHouseholds","handleSearch","selectedKeys","confirm","dataIndex","filtered","filter","household","matchesGlobalSearch","Object","values","some","value","toString","toLowerCase","includes","matchesSubPopulationFilters","entries","every","_ref","key","vcaValue","mappedData","map","index","name","caregiver_name","age","address","homeaddress","facility","province","district","ward","household_id","caseworker_name","getColumnSearchProps","filterDropdown","_ref2","setSelectedKeys","clearFilters","close","style","padding","ref","placeholder","onChange","e","target","onPressEnter","prevFilters","marginBottom","display","Space","Button","type","onClick","icon","SearchOutlined","width","handleReset","newFilters","closeDropdown","filterIcon","undefined","onFilter","record","fieldValue","String","render","text","searchTextForColumn","addressFields","field","Highlighter","highlightStyle","backgroundColor","searchWords","autoEscape","textToHighlight","columns","title","whiteSpace","allAppliedFilters","_ref3","_ref4","_ref5","_ref6","flexWrap","gap","_","BaseSpace","BaseButton","handleView","selectedHousehold","find","encodeURIComponent","state","Row","justify","align","Col","Tooltip","S","marginRight","span","fontSize","margin","justifyContent","_ref7","label","flexDirection","alignItems","Select","newValue","handleSubPopulationFilterChange","filterName","Option","marginTop","clearAllFiltersAndSearch","exportToCSV","csvData","Parser","parse","blob","Blob","link","document","createElement","href","URL","createObjectURL","download","click","BaseTable","dataSource","scroll","x","overflowX","SearchInput","_templateObject2","button","_templateObject3","BaseInput","Search","_templateObject4"],"ignoreList":[],"sourceRoot":""}